{% extends "base.html" %}

{% block sidebaritems %}
<ul class="nav nav-list">
    <li class="nav-header">Admin</li>
    <li><a href="/applications/">Home</a></li>
    <li><a href="/applications/new">New app</a></li>
    <li class="active"><a href="#">{{app.fullname}}</a></li>
</ul>
<ul class="nav nav-list">
    <li class="nav-header">Actions</li>
    <li><a href="/applications/{{app.shortname}}/broadcast">Broadcast</a></li>
    <li><a href="/applications/{{app.shortname}}/keys">Keys</a></li>
    <li><a href="/applications/{{app.shortname}}/tokens">Tokens</a></li>
</ul>
{% end %}

{% block body %}
<form class="form-horizontal" method="post" enctype="multipart/form-data">
    <input type="hidden" name="appid" value="{{app.fullname}}" />
    <fieldset>
        <legend>{{app.fullname}}</legend>
        <div class="control-group">
            <label class="control-label" for="fullnameinput">App full name</label>
            <div class="controls">
                <input type="text" class="input-xlarge" id="fullnameinput" readonly="readonly" name="appfullname" value="{{app.fullname}}">
                <p class="help-block">Your app's fullname.</p>
            </div>
        </div>

        <div class="control-group">
            <label class="control-label" for="shortnameinput">App short name</label>
            <div class="controls">
                <input type="text" class="input-xlarge" id="shortnameinput" readonly="readonly" value="{{app.shortname}}">
                <p class="help-block">Unique identifier for your app.</p>
            </div>
        </div>

        <div class="control-group">
            <label class="control-label" for="certfileinput">Certification file</label>
            <div class="controls">
                <input class="input-file" id="certfileinput" type="file" name="appcertfile">
            </div>
        </div>

        <div class="control-group">
            <label class="control-label" for="keyfileinput">key file</label>
            <div class="controls">
                <input class="input-file" id="keyfileinput" type="file" name="appkeyfile">
            </div>
        </div>

        <div class="control-group">
            <label class="control-label" for="apnscheckbox">APNs</label>
            <div class="controls">
                <label class="checkbox">
                    {% if app.enableapns %}
                    <input type="checkbox" name="enableapns" id="apnscheckbox" value="yes" checked>
                    {% else %}
                    <input type="checkbox" name="enableapns" id="apnscheckbox" value="no">
                    {% end %}
                    Apple push notification server enabled
                </label>
            </div>
        </div>

        <div class="control-group">
            <label class="control-label" for="fullnameinput">Connections</label>
            <div class="controls">
                <input type="text" class="input-xlarge" id="connections" pattern="[0-9]+" name="connections" value="{{app.connections}}">
                <p class="help-block">Connections</p>
            </div>
        </div>
        <div class="control-group">
            <label class="control-label" for="appdescription">Description</label>
            <div class="controls">
                <textarea class="input-xlarge" id="appdescription" rows="6" name="appdescription">{{app.description}}</textarea>
            </div>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-primary">Save changes</button>
            <button class="btn">Cancel</button>
        </div>
    </fieldset>
</form>

{% end %}
